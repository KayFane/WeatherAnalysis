ls
ls()
path.stores.info <- sprintf("/Users/KayE/Documents/R/CT/%s/weather project - store.tab", province)
library(plyr)
province <- "BC"
#province <- "AB_BC"
path.stores.info <- sprintf("/Users/KayE/Documents/R/CT/%s/weather project - store.tab", province)
path.stores.sale <- sprintf("/Users/KayE/Documents/R/CT/%s/weather project - sales.tab", province)
path.weather <- sprintf("/Users/KayE/Documents/R/CT/%s/weather project - daily weather.tab", province)
stores.info <- read.table(path.stores.info, sep="\t", header=TRUE)
head(stores.info)
categories.sales <- read.table("/Users/KayE/Documents/R/CT/results/categories_sales.txt",header=TRUE)
categories.sales$TRANSACTION_DATE <- as.Date(categories.sales$TRANSACTION_DATE)
head(categories.sales)
sample <- categories.sales[categories.sales$TRANSACTION_DATE < as.Date('2012-02-29',"%Y-%m-%d"),]
source('~/Documents/R/WeatherAnalysis/R/transform_center_scale_caret.R')
predictors = data.frame(x1 = sample$BATTERIES_QTY,
x2 = sample$HEATING_COOLING_QTY)
p1 = ggplot(predictors) + geom_point(aes(x = x1, y = x2))
temp <- melt(predictors, measured = c("x1", "x2"))
p2 = ggplot(temp) + geom_histogram(aes(x=value)) +
facet_grid(. ~ variable, scales = "free_x")
grid.arrange(p1, p2)
require(caret)
trans <- preProcess(predictors, c("BoxCox", "center", "scale"))
predictors_trans <- data.frame(trans = predict(trans, predictors))
p1 = ggplot(predictors_trans) + geom_point(aes(x = trans.x1, y = trans.x2))
temp <- melt(predictors_trans, measured = c("trans.x1", "trans.x2"))
p2 = ggplot(temp) + geom_histogram(aes(x=value), data = temp) +
facet_grid(. ~ variable, scales = "free_x")
grid.arrange(p1, p2)
p1 = ggplot(predictors) + geom_point(aes(x = x1, y = x2))
p1 = ggplot(predictors_trans) + geom_point(aes(x = trans.x1, y = trans.x2))
temp <- melt(predictors_trans, measured = c("trans.x1", "trans.x2"))
p2 = ggplot(temp) + geom_histogram(aes(x=value), data = temp) +
facet_grid(. ~ variable, scales = "free_x")
grid.arrange(p1, p2)
predictors = data.frame(x1 = sample$BATTERIES_QTY,
x2 = sample$HEATING_COOLING_QTY)
p1 = ggplot(predictors) + geom_point(aes(x = x1, y = x2))
temp <- melt(predictors, measured = c("x1", "x2"))
p2 = ggplot(temp) + geom_histogram(aes(x=value)) +
facet_grid(. ~ variable, scales = "free_x")
grid.arrange(p1, p2)
library(caret)
trans <- preProcess(predictors, c("BoxCox", "center", "scale"))
predictors_trans <- data.frame(trans = predict(trans, predictors))
p1 = ggplot(predictors_trans) + geom_point(aes(x = trans.x1, y = trans.x2))
temp <- melt(predictors_trans, measured = c("trans.x1", "trans.x2"))
p2 = ggplot(temp) + geom_histogram(aes(x=value), data = temp) +
facet_grid(. ~ variable, scales = "free_x")
grid.arrange(p1, p2)
